{
  "command": "run_script",
  "rscript":{
    "content": [
      "try(readRenviron('.Renviron'))",
      "try(readRenviron('app/.Renviron'))",
      "try(readRenviron('app/.env'))",
      "require(remotes)",
      "install.packages("keyring", repos = "https://cloud.r-project.org/")",
      "install_and_load_github <- function(repo) {{remotes::install_github(paste0('energyandcleanair/', repo), force=F, upgrade=F); if(repo %in% (.packages())){{try(detach(paste0('package:', repo), unload=T))}}; library(repo, character.only = TRUE);}}",
      "install.packages('ecmwfr')",
      "install_and_load_github('rcrea')",
      "install_and_load_github('creahelpers')",
      "install_and_load_github('creadeweather')",
      "install_and_load_github('creatrajs')",
      "install_and_load_github('creafire')",
      "library(tidyverse)",
      "library(glue)",
      "era5_long_vars <- c('boundary_layer_height', '10m_u_component_of_wind', '10m_v_component_of_wind', '2m_temperature', '2m_dewpoint_temperature', 'surface_pressure', 'total_precipitation')",
      "era5.download_nc(force = FALSE, date = ymd('2026-01-047'), era5_long_vars = era5_long_vars, folder = era5.folder_era5(), min_layers = 24, time_out = NULL)"
    ]
  },
  "environment_variables":[
    "GITHUB_PAT"
  ]
}
